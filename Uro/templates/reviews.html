{% load static %}

<!DOCTYPE html>
<html style="font-size: 16px;" lang="ru">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="keywords"
        content="Новый отзыв, Форма отзывов, Отправить отзыв, Клиентские отзывы, Отзывы форма, Отзывы клиентов и форма, Новый клиент, Отправка отзыва, Отзывы форм, Наша команда, Наши корпоративные партнеры">
  <meta name="description" content="">
  <title>Отзывы</title>
  <link rel="stylesheet" href="../static/css/nicepage.css" media="screen">
  <link rel="stylesheet" href="../static/css/Отзывы.css" media="screen">
  <script class="u-script" type="text/javascript" src="../static/js/jquery.js"
          defer=""></script>
  <script class="u-script" type="text/javascript"
          src="../static/js/nicepage.js" defer=""></script>
  <meta name="referrer" content="origin">


  <link id="u-theme-google-font" rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
  <link id="u-page-google-font" rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Roboto+Slab:100,200,300,400,500,600,700,800,900">
  <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "Site2",
		"logo": "images/2025-03-09142332.png"
}</script>
  <meta name="theme-color" content="#7391c4">
  <meta property="og:title" content="Отзывы">
  <meta property="og:description" content="">
  <meta property="og:type" content="website">
  <meta data-intl-tel-input-cdn-path="intlTelInput/">
</head>
<body data-path-to-root="./" data-include-products="false"
      class="u-body u-xl-mode" data-lang="ru">
<header
  class="u-clearfix u-custom-color-2 u-header u-valign-middle-xs u-header"
  id="header"><a href=".." data-page-id="546228711"
                 class="u-image u-logo u-image-1" data-image-width="413"
                 data-image-height="128" title="Главная">
  <img src="../static/images/2025-03-09142332.png"
       class="u-logo-image u-logo-image-1">
</a>
  <nav class="u-menu u-menu-one-level u-menu-open-right u-offcanvas u-menu-1"
       data-submenu-level="on-click">
    <div class="menu-collapse u-custom-font u-font-roboto"
         style="font-size: 1.375rem; letter-spacing: 0px;">
      <a
        class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-text-shadow u-custom-top-bottom-menu-spacing u-hamburger-link u-nav-link u-text-active-palette-1-base u-text-custom-color-5 u-text-hover-palette-2-base u-hamburger-link-1"
        href="#">
        <svg class="u-svg-link" viewBox="0 0 24 24">
          <use xlink:href="#menu-hamburger"></use>
        </svg>
        <svg class="u-svg-content" version="1.1" id="menu-hamburger"
             viewBox="0 0 16 16" x="0px" y="0px"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             xmlns="http://www.w3.org/2000/svg">
          <g>
            <rect y="1" width="16" height="2"></rect>
            <rect y="7" width="16" height="2"></rect>
            <rect y="13" width="16" height="2"></rect>
          </g>
        </svg>
      </a>
    </div>
    <div class="u-custom-menu u-nav-container">
      <ul class="u-custom-font u-font-roboto u-nav u-unstyled u-nav-1">
        <li class="u-nav-item"><a
          class="u-button-style u-nav-link u-text-active-custom-color-5 u-text-custom-color-5 u-text-hover-custom-color-3"
          href="../bio/" style="padding: 10px 16px;">О себе</a>
        </li>
        <li class="u-nav-item"><a
          class="u-button-style u-nav-link u-text-active-custom-color-5 u-text-custom-color-5 u-text-hover-custom-color-3"
          href="..#carousel_a251" data-page-id="546228711"
          style="padding: 10px 16px;">Услуги</a>
        </li>
        <li class="u-nav-item"><a
          class="u-button-style u-nav-link u-text-active-custom-color-5 u-text-custom-color-5 u-text-hover-custom-color-3"
          href="../bio/l#carousel_7a9f" data-page-id="1934716400"
          style="padding: 10px 16px;">Сертификаты</a>
        </li>
        <li class="u-nav-item"><a
          class="u-button-style u-nav-link u-text-active-custom-color-5 u-text-custom-color-5 u-text-hover-custom-color-3"
          href="../reviews/" style="padding: 10px 16px;">Отзывы</a>
        </li>
        <li class="u-nav-item"><a
          class="u-button-style u-nav-link u-text-active-custom-color-5 u-text-custom-color-5 u-text-hover-custom-color-3"
          href="..#carousel_aa08" data-page-id="546228711"
          style="padding: 10px 16px;">Статьи</a>
        </li>
        <li class="u-nav-item"><a
          class="u-button-style u-nav-link u-text-active-custom-color-5 u-text-custom-color-5 u-text-hover-custom-color-3"
          href="..#carousel_204c" data-page-id="546228711"
          style="padding: 10px 16px;">Контакты</a>
        </li>
      </ul>
    </div>
    <div class="u-custom-menu u-nav-container-collapse">
      <div
        class="u-container-style u-custom-color-5 u-inner-container-layout u-sidenav">
        <div class="u-inner-container-layout u-sidenav-overflow">
          <div class="u-menu-close"></div>
          <ul
            class="u-align-center u-custom-font u-font-roboto-slab u-nav u-popupmenu-items u-text-custom-color-6 u-unstyled u-nav-2">
            <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                      href="../bio/">О себе</a>
            </li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                      href="..#carousel_a251"
                                      data-page-id="546228711">Услуги</a>
            </li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                      href="../bio/#carousel_7a9f"
                                      data-page-id="1934716400">Сертификаты</a>
            </li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                      href="../reviews/">Отзывы</a>
            </li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                      href="..#carousel_aa08"
                                      data-page-id="546228711">Статьи</a>
            </li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                      href="..#carousel_204c"
                                      data-page-id="546228711">Контакты</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
    </div>
  </nav>
</header>
<section class="u-align-center u-clearfix u-container-align-center u-section-1"
         id="sec-reviews">
  <div
    class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-sheet-1">
    <h2
      class="u-custom-font u-font-lato u-text u-text-default u-text-palette-4-base u-text-1">
      Клиентские отзывы
    </h2>
    {% if reviews %}
      <div class="u-expanded-width u-layout-horizontal u-list u-list-1">
        <div class="u-repeater u-repeater-1">
          {% for review in reviews %}
            <div
              class="u-border-1 u-border-palette-4-base u-container-style u-list-item u-repeater-item u-shape-rectangle u-white u-list-item-1"
              data-animation-name="" data-animation-duration="0"
              data-animation-delay="0" data-animation-direction="">
              <div
                class="u-container-layout u-similar-container u-container-layout-1">
                <h4 class="u-align-left u-text u-text-custom-color-3 u-text-2">
                  {{ forloop.counter|stringformat:"02d" }}
                </h4>
                <h3 class="u-align-left u-text u-text-custom-color-5 u-text-3">
                  {{ review.last_name }} {{ review.first_name }}
                </h3>
                <p class="u-align-left u-text u-text-custom-color-5 u-text-4">
                  {{ review.content }}
                </p>
              </div>
            </div>
          {% endfor %}
        </div>
        <!-- Кнопка "назад" -->
        <a
          class="u-absolute-vcenter u-gallery-nav u-gallery-nav-prev u-grey-70 u-icon-circle u-opacity u-opacity-70 u-spacing-10 u-text-white u-gallery-nav-1"
          href="#" role="button">
        <span aria-hidden="true">
          <svg viewBox="0 0 451.847 451.847">
            <path d="M97.141,225.92c0-8.095,3.091-16.192,9.259-22.366L300.689,9.27
                     c12.359-12.359,32.397-12.359,44.751,0c12.354,12.354,12.354,32.388,0,44.748
                     L173.525,225.92l171.903,171.909c12.354,12.354,12.354,32.391,0,44.744
                     c-12.354,12.365-32.386,12.365-44.745,0l-194.29-194.281C100.226,242.115,97.141,234.018,97.141,225.92z"/>
          </svg>
        </span>
          <span class="sr-only">
          <svg viewBox="0 0 451.847 451.847">
            <path d="M97.141,225.92c0-8.095,3.091-16.192,9.259-22.366L300.689,9.27
                     c12.359-12.359,32.397-12.359,44.751,0c12.354,12.354,12.354,32.388,0,44.748
                     L173.525,225.92l171.903,171.909c12.354,12.354,12.354,32.391,0,44.744
                     c-12.354,12.365-32.386,12.365-44.745,0l-194.29-194.281C100.226,242.115,97.141,234.018,97.141,225.92z"/>
          </svg>
        </span>
        </a>
        <!-- Кнопка "вперёд" -->
        <a
          class="u-absolute-vcenter u-gallery-nav u-gallery-nav-next u-grey-70 u-icon-circle u-opacity u-opacity-70 u-spacing-10 u-text-white u-gallery-nav-2"
          href="#" role="button">
        <span aria-hidden="true">
          <svg viewBox="0 0 451.846 451.847">
            <path d="M345.441,248.292L151.154,442.573c-12.359,12.365-32.397,12.365-44.75,0
                     c-12.354-12.354-12.354-32.391,0-44.744L278.318,225.92L106.409,54.017
                     c-12.354-12.359-12.354-32.394,0-44.748c12.354-12.359,32.391-12.359,44.75,0l194.287,194.284
                     c6.177,6.18,9.262,14.271,9.262,22.366C354.708,234.018,351.617,242.115,345.441,248.292z"/>
          </svg>
        </span>
          <span class="sr-only">
          <svg viewBox="0 0 451.846 451.847">
            <path d="M345.441,248.292L151.154,442.573c-12.359,12.365-32.397,12.365-44.75,0
                     c-12.354-12.354-12.354-32.391,0-44.744L278.318,225.92L106.409,54.017
                     c-12.354-12.359-12.354-32.394,0-44.748c12.354-12.359,32.391-12.359,44.75,0l194.287,194.284
                     c6.177,6.18,9.262,14.271,9.262,22.366C354.708,234.018,351.617,242.115,345.441,248.292z"/>
          </svg>
        </span>
        </a>
      </div>
    {% else %}
      <p class="u-align-center u-text u-text-custom-color-5 u-text-4">
        Отзывов пока нет. Будьте первым, кто оставит отзыв!
      </p>
    {% endif %}
  </div>
</section>
<section
  class="u-clearfix u-container-align-center u-grey-5 u-valign-middle u-section-2"
  id="sec-328d">
  <div
    class="u-custom-color-8 u-expanded-width u-shape u-shape-rectangle u-shape-1"></div>
  <div
    class="data-layout-selected u-clearfix u-gutter-26 u-layout-wrap u-layout-wrap-1">
    <div class="u-layout">
      <div class="u-layout-row">
        <div
          class="u-container-align-center u-container-style u-layout-cell u-size-60 u-white u-layout-cell-1">
          <div class="u-container-layout u-valign-middle u-container-layout-1">
            <div class="u-form u-form-1">


              <!-- Форма отправки отзыва -->
              <form id="review-form" action="{% url 'submit_review' %}"
                    method="post">
                {% csrf_token %}

                <h3
                  class="u-align-center u-form-group u-form-text u-text u-text-1">
                  Оставить отзыв</h3>
                {% if messages %}
                  <div id="form-message">
                    {% for message in messages %}
                      <div
                        class="u-form-send-message {% if message.tags == 'success' %}u-form-send-success{% else %}u-form-send-error{% endif %}">
                        {{ message }}
                      </div>
                    {% endfor %}
                  </div>

                  <!-- Принудительно прокручиваем вниз при наличии сообщений -->
                  <script>
                      setTimeout(function () {
                          let formMessage = document.getElementById("form-message");
                          if (formMessage) {
                              formMessage.scrollIntoView({
                                  behavior: "smooth",
                                  block: "center"
                              });
                          }
                      }, 500);
                  </script>
                {% endif %}

                <!-- Поле для Имени -->
                <div class="u-form-group u-form-name">
                  <label for="first_name" class="u-label">Имя</label>
                  <input type="text" placeholder="Введите ваше имя"
                         id="first_name" name="first_name"
                         class="u-border-2 u-border-grey-50 u-border-no-left u-border-no-right u-border-no-top u-input u-input-rectangle"
                         required
                         value="{{ form.first_name.value|default_if_none:'' }}">
                  {% if form.first_name.errors %}
                    <div
                      class="text-danger">{{ form.first_name.errors.0 }}</div>
                  {% endif %}
                </div>

                <!-- Поле для Фамилии -->
                <div class="u-form-group u-form-name">
                  <label for="last_name" class="u-label">Фамилия</label>
                  <input type="text" placeholder="Введите вашу фамилию"
                         id="last_name" name="last_name"
                         class="u-border-2 u-border-grey-50 u-border-no-left u-border-no-right u-border-no-top u-input u-input-rectangle"
                         required
                         value="{{ form.last_name.value|default_if_none:'' }}">
                  {% if form.last_name.errors %}
                    <div
                      class="text-danger">{{ form.last_name.errors.0 }}</div>
                  {% endif %}
                </div>

                <!-- Поле для номера телефона -->
                <div class="u-form-group u-form-email">
                  <label for="phone" class="u-label">Номер телефона</label>
                  <input type="text" placeholder="Введите номер телефона"
                         id="phone" name="phone"
                         class="u-border-2 u-border-grey-50 u-border-no-left u-border-no-right u-border-no-top u-input u-input-rectangle"
                         required
                         value="{{ form.phone.value|default_if_none:'' }}">
                  {% if form.phone.errors %}
                    <div class="text-danger">{{ form.phone.errors.0 }}</div>
                  {% endif %}
                </div>

                <!-- Поле для отзыва -->
                <div class="u-form-group u-form-message">
                  <label for="content" class="u-label">Отзыв</label>
                  <textarea placeholder="Введите ваш отзыв" rows="4" cols="50"
                            id="content" name="content"
                            class="u-border-2 u-border-grey-50 u-border-no-left u-border-no-right u-border-no-top u-input u-input-rectangle"
                            required>{{ form.content.value|default_if_none:'' }}</textarea>
                  {% if form.content.errors %}
                    <div class="text-danger">{{ form.content.errors.0 }}</div>
                  {% endif %}
                </div>

                <!-- Кнопка отправки формы -->
                <div class="u-align-right u-form-group">
                  <button type="submit" class="submit-btn">Отправить</button>
                </div>
              </form>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<footer
  class="u-align-center u-clearfix u-container-align-center u-footer u-grey-80 u-footer"
  id="footer">
  <div class="u-clearfix u-sheet u-sheet-1">
    <p class="u-small-text u-text u-text-variant u-text-1">Арбулиев Камиль
      Могамедович <br>©2025 г. Все права защищены.
    </p>
    <a href="tel:+79285601155"
       class="u-active-none u-btn u-btn-rectangle u-button-style u-hover-none u-none u-btn-1">
      <span class="u-icon"><svg class="u-svg-content"
                                viewBox="0 0 405.333 405.333" x="0px" y="0px"
                                style="width: 1em; height: 1em;"><path
        d="M373.333,266.88c-25.003,0-49.493-3.904-72.704-11.563c-11.328-3.904-24.192-0.896-31.637,6.699l-46.016,34.752    c-52.8-28.181-86.592-61.952-114.389-114.368l33.813-44.928c8.512-8.512,11.563-20.971,7.915-32.64    C142.592,81.472,138.667,56.96,138.667,32c0-17.643-14.357-32-32-32H32C14.357,0,0,14.357,0,32    c0,205.845,167.488,373.333,373.333,373.333c17.643,0,32-14.357,32-32V298.88C405.333,281.237,390.976,266.88,373.333,266.88z"></path></svg></span>+7
      928 560-11-55
    </a>
    <a href="tel:+79034233985"
       class="u-active-none u-btn u-btn-rectangle u-button-style u-hover-none u-none u-btn-2">
      <span class="u-icon"><svg class="u-svg-content"
                                viewBox="0 0 405.333 405.333" x="0px" y="0px"
                                style="width: 1em; height: 1em;"><path
        d="M373.333,266.88c-25.003,0-49.493-3.904-72.704-11.563c-11.328-3.904-24.192-0.896-31.637,6.699l-46.016,34.752    c-52.8-28.181-86.592-61.952-114.389-114.368l33.813-44.928c8.512-8.512,11.563-20.971,7.915-32.64    C142.592,81.472,138.667,56.96,138.667,32c0-17.643-14.357-32-32-32H32C14.357,0,0,14.357,0,32    c0,205.845,167.488,373.333,373.333,373.333c17.643,0,32-14.357,32-32V298.88C405.333,281.237,390.976,266.88,373.333,266.88z"></path></svg></span>+7
      903 423-39-85
    </a>
  </div>
</footer>
<script>
    function submitReview(event) {
        event.preventDefault(); // Останавливаем стандартную отправку формы

        let form = document.getElementById("review-form");
        let formData = new FormData(form);
        let messageDiv = document.getElementById("form-message");


        fetch(form.action, {
            method: "POST",
            body: formData,
            headers: {
                "X-Requested-With": "XMLHttpRequest"
            }
        })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    messageDiv.innerHTML = `<div class="u-form-send-message u-form-send-success">${data.message}</div>`;
                    form.reset();

                    // Принудительно добавляем #review-form в URL
                    history.replaceState(null, null, window.location.pathname + "#review-form");

                    // Прокручиваем вниз к форме
                    setTimeout(function () {
                        form.scrollIntoView({
                            behavior: "smooth",
                            block: "center"
                        });
                    }, 500);
                } else {
                    messageDiv.innerHTML = `<div class="u-form-send-message u-form-send-error">${data.message}</div>`;


                    // Вывод ошибок под полями
                    document.querySelectorAll(".u-text-error").forEach(el => el.remove());
                    for (let field in data.errors) {
                        let input = document.querySelector(`[name="${field}"]`);
                        if (input) {
                            let errorDiv = document.createElement("div");
                            errorDiv.className = "text-danger u-text-error";
                            errorDiv.innerText = data.errors[field][0];
                            input.after(errorDiv);
                        }
                    }

                    // Прокручиваем вниз при ошибке
                    setTimeout(function () {
                        form.scrollIntoView({
                            behavior: "smooth",
                            block: "center"
                        });
                    }, 500);
                }
            })
            .catch(error => {
                messageDiv.innerHTML = `<div class="u-form-send-message u-form-send-error">❌ Ошибка отправки</div>`;
            });
    }
</script>
</body>
</html>